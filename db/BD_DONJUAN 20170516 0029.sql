--
-- Script was generated by Devart dbForge Studio for SQL Server, Version 5.4.275.0
-- Product home page: http://devart.com/dbforge/sql/studio
-- Script date 05/16/2017 12:29:18 AM
-- Server version: 12.00.0304
-- Client version: 
--



--
-- Create table [dbo].[PUESTO]
--
PRINT (N'Create table [dbo].[PUESTO]')
GO
CREATE TABLE dbo.PUESTO (
  PUESTO_ID int NOT NULL,
  TIPO_PUESTO varchar(30) NULL,
  SUELDO_BASE money NULL,
  PRIMARY KEY CLUSTERED (PUESTO_ID)
)
GO

--
-- Create table [dbo].[EMPLEADO]
--
PRINT (N'Create table [dbo].[EMPLEADO]')
GO
CREATE TABLE dbo.EMPLEADO (
  EMPLEADO_ID int NOT NULL,
  PUESTO_ID int NOT NULL,
  NOMBRE varchar(30) NULL,
  RFC varchar(12) NULL,
  DIRECCION varchar(50) NULL,
  TELEFONO varchar(30) NULL,
  PRIMARY KEY CLUSTERED (EMPLEADO_ID)
)
GO

--
-- Create foreign key on table [dbo].[EMPLEADO]
--
PRINT (N'Create foreign key on table [dbo].[EMPLEADO]')
GO
ALTER TABLE dbo.EMPLEADO
  ADD FOREIGN KEY (PUESTO_ID) REFERENCES dbo.PUESTO (PUESTO_ID) ON DELETE CASCADE
GO

--
-- Create table [dbo].[VENTA]
--
PRINT (N'Create table [dbo].[VENTA]')
GO
CREATE TABLE dbo.VENTA (
  VENTA_ID int IDENTITY,
  EMPLEADO_ID int NOT NULL,
  TOTAL money NULL,
  FECHA date NULL,
  DESCUENTO bit NULL,
  PRIMARY KEY CLUSTERED (VENTA_ID)
)
GO

--
-- Create foreign key on table [dbo].[VENTA]
--
PRINT (N'Create foreign key on table [dbo].[VENTA]')
GO
ALTER TABLE dbo.VENTA
  ADD FOREIGN KEY (EMPLEADO_ID) REFERENCES dbo.EMPLEADO (EMPLEADO_ID) ON DELETE CASCADE
GO

--
-- Create table [dbo].[FACTURACION]
--
PRINT (N'Create table [dbo].[FACTURACION]')
GO
CREATE TABLE dbo.FACTURACION (
  FACTURACION_ID int IDENTITY,
  VENTA_ID int NOT NULL,
  CLIENTE_ID int NOT NULL,
  PRIMARY KEY CLUSTERED (FACTURACION_ID)
)
GO

--
-- Create foreign key on table [dbo].[FACTURACION]
--
PRINT (N'Create foreign key on table [dbo].[FACTURACION]')
GO
ALTER TABLE dbo.FACTURACION
  ADD FOREIGN KEY (VENTA_ID) REFERENCES dbo.VENTA (VENTA_ID) ON DELETE CASCADE
GO

--
-- Create table [dbo].[NOMINA]
--
PRINT (N'Create table [dbo].[NOMINA]')
GO
CREATE TABLE dbo.NOMINA (
  NOMINA_ID int NOT NULL,
  EMPLEADO_ID int NOT NULL,
  SUELDO_TOTAL money NULL,
  BONO money NULL,
  PRIMARY KEY CLUSTERED (NOMINA_ID)
)
GO

--
-- Create foreign key on table [dbo].[NOMINA]
--
PRINT (N'Create foreign key on table [dbo].[NOMINA]')
GO
ALTER TABLE dbo.NOMINA
  ADD FOREIGN KEY (EMPLEADO_ID) REFERENCES dbo.EMPLEADO (EMPLEADO_ID) ON DELETE CASCADE
GO

--
-- Create table [dbo].[ASISTENCIA]
--
PRINT (N'Create table [dbo].[ASISTENCIA]')
GO
CREATE TABLE dbo.ASISTENCIA (
  ASISTENCIA_ID int NOT NULL,
  EMPLEADO_ID int NOT NULL,
  FECHA date NULL,
  HORA_ENTRADA date NULL,
  HORA_SALIDA date NULL,
  PRIMARY KEY CLUSTERED (ASISTENCIA_ID)
)
GO

--
-- Create foreign key on table [dbo].[ASISTENCIA]
--
PRINT (N'Create foreign key on table [dbo].[ASISTENCIA]')
GO
ALTER TABLE dbo.ASISTENCIA
  ADD FOREIGN KEY (EMPLEADO_ID) REFERENCES dbo.EMPLEADO (EMPLEADO_ID) ON DELETE CASCADE
GO

--
-- Create table [dbo].[PROVEEDOR]
--
PRINT (N'Create table [dbo].[PROVEEDOR]')
GO
CREATE TABLE dbo.PROVEEDOR (
  PROVEEDOR_ID int NOT NULL,
  NOMBRE varchar(30) NULL,
  DIRECCION varchar(50) NULL,
  TELEFONO varchar(200) NULL,
  RFC varchar(12) NULL,
  EMAIL varchar(50) NULL,
  PRIMARY KEY CLUSTERED (PROVEEDOR_ID)
)
GO

--
-- Create table [dbo].[PRODUCTO]
--
PRINT (N'Create table [dbo].[PRODUCTO]')
GO
CREATE TABLE dbo.PRODUCTO (
  PRODUCTO_ID int NOT NULL,
  CATEGORIA_ID int NOT NULL,
  PROVEEDOR_ID int NULL,
  NOMBRE varchar(30) NULL,
  PRECIO money NULL,
  COSTO money NULL,
  UNIDAD varchar(30) NULL,
  MARCA varchar(30) NULL,
  PRIMARY KEY CLUSTERED (PRODUCTO_ID)
)
GO

--
-- Create foreign key on table [dbo].[PRODUCTO]
--
PRINT (N'Create foreign key on table [dbo].[PRODUCTO]')
GO
ALTER TABLE dbo.PRODUCTO
  ADD FOREIGN KEY (PROVEEDOR_ID) REFERENCES dbo.PROVEEDOR (PROVEEDOR_ID) ON DELETE CASCADE
GO

--
-- Create table [dbo].[VENTA_PRODUCTO]
--
PRINT (N'Create table [dbo].[VENTA_PRODUCTO]')
GO
CREATE TABLE dbo.VENTA_PRODUCTO (
  VENTA_PRODUCTO_ID int IDENTITY,
  VENTA_ID int NOT NULL,
  CANTIDAD int NOT NULL,
  PRODUCTO_ID int NOT NULL,
  PRECIO_ACTUAL money NULL,
  PRIMARY KEY CLUSTERED (VENTA_PRODUCTO_ID)
)
GO

--
-- Create foreign key on table [dbo].[VENTA_PRODUCTO]
--
PRINT (N'Create foreign key on table [dbo].[VENTA_PRODUCTO]')
GO
ALTER TABLE dbo.VENTA_PRODUCTO
  ADD FOREIGN KEY (PRODUCTO_ID) REFERENCES dbo.PRODUCTO (PRODUCTO_ID) ON DELETE CASCADE
GO

--
-- Create foreign key on table [dbo].[VENTA_PRODUCTO]
--
PRINT (N'Create foreign key on table [dbo].[VENTA_PRODUCTO]')
GO
ALTER TABLE dbo.VENTA_PRODUCTO
  ADD FOREIGN KEY (VENTA_ID) REFERENCES dbo.VENTA (VENTA_ID) ON DELETE CASCADE
GO

--
-- Create table [dbo].[STOCK]
--
PRINT (N'Create table [dbo].[STOCK]')
GO
CREATE TABLE dbo.STOCK (
  STOCK_ID int NOT NULL,
  PRODUCTO_ID int NOT NULL,
  CANTIDAD int NOT NULL,
  PRIMARY KEY CLUSTERED (STOCK_ID)
)
GO

--
-- Create foreign key on table [dbo].[STOCK]
--
PRINT (N'Create foreign key on table [dbo].[STOCK]')
GO
ALTER TABLE dbo.STOCK
  ADD FOREIGN KEY (PRODUCTO_ID) REFERENCES dbo.PRODUCTO (PRODUCTO_ID) ON DELETE CASCADE
GO

--
-- Create table [dbo].[INVENTARIO]
--
PRINT (N'Create table [dbo].[INVENTARIO]')
GO
CREATE TABLE dbo.INVENTARIO (
  INVENTARIO_ID int NOT NULL,
  PRODUCTO_ID int NOT NULL,
  CANTIDAD int NOT NULL,
  PRIMARY KEY CLUSTERED (INVENTARIO_ID)
)
GO

--
-- Create foreign key on table [dbo].[INVENTARIO]
--
PRINT (N'Create foreign key on table [dbo].[INVENTARIO]')
GO
ALTER TABLE dbo.INVENTARIO
  ADD FOREIGN KEY (PRODUCTO_ID) REFERENCES dbo.PRODUCTO (PRODUCTO_ID) ON DELETE CASCADE
GO

--
-- Create table [dbo].[COMPRA]
--
PRINT (N'Create table [dbo].[COMPRA]')
GO
CREATE TABLE dbo.COMPRA (
  COMPRA_ID int NOT NULL,
  PROVEEDOR_ID int NOT NULL,
  SUBTOTAL money NULL,
  TOTAL money NULL,
  ESTADO varchar(30) NULL,
  FECHA date NULL,
  PRIMARY KEY CLUSTERED (COMPRA_ID)
)
GO

--
-- Create foreign key on table [dbo].[COMPRA]
--
PRINT (N'Create foreign key on table [dbo].[COMPRA]')
GO
ALTER TABLE dbo.COMPRA
  ADD FOREIGN KEY (PROVEEDOR_ID) REFERENCES dbo.PROVEEDOR (PROVEEDOR_ID) ON DELETE CASCADE
GO

--
-- Create table [dbo].[PEDIDO]
--
PRINT (N'Create table [dbo].[PEDIDO]')
GO
CREATE TABLE dbo.PEDIDO (
  PEDIDO_ID int IDENTITY,
  ESTADO varchar(50) NULL,
  FECHA date NULL,
  PRIMARY KEY CLUSTERED (PEDIDO_ID)
)
GO

--
-- Create table [dbo].[PRODUCTO_MOVIMIENTO]
--
PRINT (N'Create table [dbo].[PRODUCTO_MOVIMIENTO]')
GO
CREATE TABLE dbo.PRODUCTO_MOVIMIENTO (
  PRODUCTO_MOVIMIENTO_ID int IDENTITY,
  PRODUCTO_ID int NULL,
  PROVEEDOR_ID int NULL,
  COMPRA_ID int NULL,
  PEDIDO_ID int NULL,
  CANTIDAD int NULL,
  TIPO varchar(30) NULL,
  PRIMARY KEY CLUSTERED (PRODUCTO_MOVIMIENTO_ID)
)
GO

--
-- Create foreign key on table [dbo].[PRODUCTO_MOVIMIENTO]
--
PRINT (N'Create foreign key on table [dbo].[PRODUCTO_MOVIMIENTO]')
GO
ALTER TABLE dbo.PRODUCTO_MOVIMIENTO
  ADD FOREIGN KEY (COMPRA_ID) REFERENCES dbo.COMPRA (COMPRA_ID)
GO

--
-- Create foreign key on table [dbo].[PRODUCTO_MOVIMIENTO]
--
PRINT (N'Create foreign key on table [dbo].[PRODUCTO_MOVIMIENTO]')
GO
ALTER TABLE dbo.PRODUCTO_MOVIMIENTO
  ADD FOREIGN KEY (PEDIDO_ID) REFERENCES dbo.PEDIDO (PEDIDO_ID)
GO

--
-- Create foreign key on table [dbo].[PRODUCTO_MOVIMIENTO]
--
PRINT (N'Create foreign key on table [dbo].[PRODUCTO_MOVIMIENTO]')
GO
ALTER TABLE dbo.PRODUCTO_MOVIMIENTO
  ADD FOREIGN KEY (PRODUCTO_ID) REFERENCES dbo.PRODUCTO (PRODUCTO_ID)
GO

--
-- Create foreign key on table [dbo].[PRODUCTO_MOVIMIENTO]
--
PRINT (N'Create foreign key on table [dbo].[PRODUCTO_MOVIMIENTO]')
GO
ALTER TABLE dbo.PRODUCTO_MOVIMIENTO
  ADD FOREIGN KEY (PROVEEDOR_ID) REFERENCES dbo.PROVEEDOR (PROVEEDOR_ID)
GO

--
-- Create table [dbo].[PEDIDO_RECIBIDO]
--
PRINT (N'Create table [dbo].[PEDIDO_RECIBIDO]')
GO
CREATE TABLE dbo.PEDIDO_RECIBIDO (
  PEDIDO_REC_ID int IDENTITY,
  PEDIDO_ID int NOT NULL,
  FECHA date NULL,
  PRIMARY KEY CLUSTERED (PEDIDO_REC_ID)
)
GO

--
-- Create foreign key on table [dbo].[PEDIDO_RECIBIDO]
--
PRINT (N'Create foreign key on table [dbo].[PEDIDO_RECIBIDO]')
GO
ALTER TABLE dbo.PEDIDO_RECIBIDO
  ADD FOREIGN KEY (PEDIDO_ID) REFERENCES dbo.PEDIDO (PEDIDO_ID) ON DELETE CASCADE
GO

--
-- Create table [dbo].[PEDIDO_RECIBIDO_PRODUCTO]
--
PRINT (N'Create table [dbo].[PEDIDO_RECIBIDO_PRODUCTO]')
GO
CREATE TABLE dbo.PEDIDO_RECIBIDO_PRODUCTO (
  PEDIDO_REC_PRODUCTO_ID int IDENTITY,
  PEDIDO_REC_ID int NOT NULL,
  PRODUCTO_ID int NOT NULL,
  CANTIDAD int NOT NULL,
  PRIMARY KEY CLUSTERED (PEDIDO_REC_PRODUCTO_ID)
)
GO

--
-- Create foreign key on table [dbo].[PEDIDO_RECIBIDO_PRODUCTO]
--
PRINT (N'Create foreign key on table [dbo].[PEDIDO_RECIBIDO_PRODUCTO]')
GO
ALTER TABLE dbo.PEDIDO_RECIBIDO_PRODUCTO
  ADD FOREIGN KEY (PEDIDO_REC_ID) REFERENCES dbo.PEDIDO_RECIBIDO (PEDIDO_REC_ID) ON DELETE CASCADE
GO

--
-- Create table [dbo].[CLIENTE]
--
PRINT (N'Create table [dbo].[CLIENTE]')
GO
CREATE TABLE dbo.CLIENTE (
  NOMBRE varchar(30) NULL,
  TELEFONO varbinary(max) NULL,
  EMAIL varchar(50) NULL,
  ESTILISTA bit NULL,
  RFC varchar(12) NULL,
  DIRECCION varchar(50) NULL,
  CODIGO_POSTAL int NULL,
  CIUDAD varchar(30) NULL,
  ESTADO varchar(30) NULL,
  CLIENTE_ID int IDENTITY
)
GO

--
-- Create table [dbo].[CATEGORIA]
--
PRINT (N'Create table [dbo].[CATEGORIA]')
GO
CREATE TABLE dbo.CATEGORIA (
  NOMBRE varchar(50) NULL,
  CATEGORIA_ID int IDENTITY
)
GO
SET NOEXEC OFF
GO